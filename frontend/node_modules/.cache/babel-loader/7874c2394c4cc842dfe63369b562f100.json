{"ast":null,"code":"var _jsxFileName = \"/home/faseeh/faseehWorkspace/Pokemon/pokezoo/frontend/src/features/home/Collection.js\";\n\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport React, { useState, useEffect } from \"react\";\nimport CollectionCard from \"./components/CollectionCard\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createCollection, fetchCollection, selectorCollection } from \"./collectionSlice\";\nimport { selectorAuth, tryAutoLogin } from \"../../authSlice\";\n\nconst Collection = () => {\n  const [collectionName, setCollectionName] = useState(\"\");\n  const dispatch = useDispatch();\n  const collectionState = useSelector(selectorCollection);\n  const authState = useSelector(selectorAuth); // Try autologin\n\n  useEffect(() => {\n    dispatch(tryAutoLogin());\n  }, [dispatch]); // Fetch collection by dispatching the action with username.\n\n  useEffect(() => {\n    dispatch(fetchCollection(authState.username));\n  }, [dispatch, authState.username]);\n\n  const handleCollectionCreation = e => {\n    e.preventDefault();\n    const newCollection = {\n      collectionId: uuidv4(),\n      collectionName: collectionName,\n      username: authState.username,\n      pokemons: []\n    };\n    dispatch(createCollection(newCollection));\n    setCollectionName(\"\");\n  };\n\n  return jsx(\"div\", {\n    css: {\n      \"padding\": \"0.5rem\",\n      \"@media (min-width: 768px)\": {\n        \"padding\": \"1rem\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, jsx(\"section\", {\n    css: {\n      \"fontSize\": \"1rem\",\n      \"@media (min-width: 768px)\": {\n        \"fontSize\": \"1.125rem\"\n      },\n      \"@media (min-width: 1024px)\": {\n        \"fontSize\": \"1.25rem\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, jsx(\"form\", {\n    css: {\n      \"textAlign\": \"center\"\n    },\n    onSubmit: handleCollectionCreation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, jsx(\"input\", {\n    css: {\n      \"borderRadius\": \"0.25rem\",\n      \"--text-opacity\": \"1\",\n      \"color\": \"rgba(26, 32, 44, var(--text-opacity))\",\n      \"borderWidth\": \"1px\",\n      \"--border-opacity\": \"1\",\n      \"borderColor\": \"rgba(107, 70, 193, var(--border-opacity))\",\n      \"padding\": \"0.25rem\",\n      \"margin\": \"0.25rem\"\n    },\n    value: collectionName,\n    onChange: e => setCollectionName(e.target.value),\n    placeholder: \"enter collection name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), jsx(\"button\", {\n    css: {\n      \"--bg-opacity\": \"1\",\n      \"backgroundColor\": \"rgba(107, 70, 193, var(--bg-opacity))\",\n      \":hover\": {\n        \"--bg-opacity\": \"1\",\n        \"backgroundColor\": \"rgba(85, 60, 154, var(--bg-opacity))\",\n        \"--text-opacity\": \"1\",\n        \"color\": \"rgba(255, 255, 255, var(--text-opacity))\"\n      },\n      \"--text-opacity\": \"1\",\n      \"color\": \"rgba(237, 242, 247, var(--text-opacity))\",\n      \"borderRadius\": \"0.25rem\",\n      \"padding\": \"0.25rem\",\n      \"margin\": \"0.25rem\"\n    },\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"create\"))), jsx(\"section\", {\n    css: {\n      \"marginTop\": \"1rem\",\n      \"@media (min-width: 768px)\": {\n        \"display\": \"grid\",\n        \"gridTemplateColumns\": \"repeat(2, minmax(0, 1fr))\",\n        \"gap\": \"0.5rem\"\n      },\n      \"@media (min-width: 1024px)\": {\n        \"gridTemplateColumns\": \"repeat(3, minmax(0, 1fr))\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, collectionState.map(col => jsx(CollectionCard, {\n    key: col.collectionId,\n    collectionObj: col,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Collection;","map":{"version":3,"sources":["/home/faseeh/faseehWorkspace/Pokemon/pokezoo/frontend/src/features/home/Collection.js"],"names":["jsx","css","v4","uuidv4","React","useState","useEffect","CollectionCard","useSelector","useDispatch","createCollection","fetchCollection","selectorCollection","selectorAuth","tryAutoLogin","Collection","collectionName","setCollectionName","dispatch","collectionState","authState","username","handleCollectionCreation","e","preventDefault","newCollection","collectionId","pokemons","target","value","map","col"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\"\nimport tw from \"twin.macro\"\nimport { v4 as uuidv4 } from \"uuid\"\n\nimport React, { useState, useEffect } from \"react\"\n\nimport CollectionCard from \"./components/CollectionCard\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport {\n  createCollection,\n  fetchCollection,\n  selectorCollection,\n} from \"./collectionSlice\"\nimport { selectorAuth, tryAutoLogin } from \"../../authSlice\"\n\nconst Collection = () => {\n  const [collectionName, setCollectionName] = useState(\"\")\n  const dispatch = useDispatch()\n  const collectionState = useSelector(selectorCollection)\n  const authState = useSelector(selectorAuth)\n\n  // Try autologin\n  useEffect(() => {\n    dispatch(tryAutoLogin())\n  }, [dispatch])\n\n  // Fetch collection by dispatching the action with username.\n  useEffect(() => {\n    dispatch(fetchCollection(authState.username))\n  }, [dispatch, authState.username])\n\n  const handleCollectionCreation = e => {\n    e.preventDefault()\n    const newCollection = {\n      collectionId: uuidv4(),\n      collectionName: collectionName,\n      username: authState.username,\n      pokemons: [],\n    }\n\n    dispatch(createCollection(newCollection))\n    setCollectionName(\"\")\n  }\n\n  return (\n    <div tw=\"p-2 md:p-4\">\n      <section tw=\"text-base md:text-lg lg:text-xl\">\n        {/* <h3 tw=\"mx-1\"> Your Collection </h3> */}\n        <form tw=\"text-center\" onSubmit={handleCollectionCreation}>\n          <input\n            tw=\"rounded text-gray-900 border border-purple-700 p-1 m-1\"\n            value={collectionName}\n            onChange={e => setCollectionName(e.target.value)}\n            placeholder=\"enter collection name\"\n          />\n          <button\n            tw=\"bg-purple-700 hover:bg-purple-800 text-gray-200 hover:text-white rounded p-1 m-1\"\n            type=\"submit\"\n          >\n            create\n          </button>\n        </form>\n      </section>\n      <section tw=\"md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-2 mt-4\">\n        {collectionState.map(col => (\n          <CollectionCard key={col.collectionId} collectionObj={col} />\n        ))}\n      </section>\n    </div>\n  )\n}\n\nexport default Collection\n"]},"metadata":{},"sourceType":"module"}